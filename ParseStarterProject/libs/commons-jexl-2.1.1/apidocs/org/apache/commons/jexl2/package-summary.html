<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_29) on Mon Dec 19 14:54:15 GMT 2011 -->
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<TITLE>
org.apache.commons.jexl2 (Commons JEXL 2.1.1 API)
</TITLE>

<META NAME="date" CONTENT="2011-12-19">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="org.apache.commons.jexl2 (Commons JEXL 2.1.1 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV PACKAGE&nbsp;
&nbsp;<A HREF="../../../../org/apache/commons/jexl2/internal/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/apache/commons/jexl2/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<H2>
Package org.apache.commons.jexl2
</H2>
Provides a framework for evaluating JEXL expressions.
<P>
<B>See:</B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#package_description"><B>Description</B></A>
<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Interface Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/Expression.html" title="interface in org.apache.commons.jexl2">Expression</A></B></TD>
<TD>Represents a single JEXL expression.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/JexlContext.html" title="interface in org.apache.commons.jexl2">JexlContext</A></B></TD>
<TD>Manages variables which can be referenced in a JEXL expression.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/JexlInfo.html" title="interface in org.apache.commons.jexl2">JexlInfo</A></B></TD>
<TD>Interface for objects carrying information usefull to debugging.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/NamespaceResolver.html" title="interface in org.apache.commons.jexl2">NamespaceResolver</A></B></TD>
<TD>This interface declares how to resolve a namespace from its name; it is used by the interpreter during evalutation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/Script.html" title="interface in org.apache.commons.jexl2">Script</A></B></TD>
<TD>A JEXL Script.</TD>
</TR>
</TABLE>
&nbsp;

<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/DebugInfo.html" title="class in org.apache.commons.jexl2">DebugInfo</A></B></TD>
<TD>Helper class to carry in info such as a url/file name, line and column for
 debugging information reporting.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/ExpressionImpl.html" title="class in org.apache.commons.jexl2">ExpressionImpl</A></B></TD>
<TD>Instances of ExpressionImpl are created by the <A HREF="../../../../org/apache/commons/jexl2/JexlEngine.html" title="class in org.apache.commons.jexl2"><CODE>JexlEngine</CODE></A>,
 and this is the default implementation of the <A HREF="../../../../org/apache/commons/jexl2/Expression.html" title="interface in org.apache.commons.jexl2"><CODE>Expression</CODE></A> and
 <A HREF="../../../../org/apache/commons/jexl2/Script.html" title="interface in org.apache.commons.jexl2"><CODE>Script</CODE></A> interface.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/Interpreter.html" title="class in org.apache.commons.jexl2">Interpreter</A></B></TD>
<TD>An interpreter of JEXL syntax.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/JexlArithmetic.html" title="class in org.apache.commons.jexl2">JexlArithmetic</A></B></TD>
<TD>Perform arithmetic.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/JexlEngine.html" title="class in org.apache.commons.jexl2">JexlEngine</A></B></TD>
<TD>
 Creates and evaluates Expression and Script objects.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/JexlEngine.Frame.html" title="class in org.apache.commons.jexl2">JexlEngine.Frame</A></B></TD>
<TD>A call frame, created from a scope, stores the arguments and local variables as "registers".</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/JexlEngine.Scope.html" title="class in org.apache.commons.jexl2">JexlEngine.Scope</A></B></TD>
<TD>A script scope, stores the declaration of parameters and local variables.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/JexlThreadedArithmetic.html" title="class in org.apache.commons.jexl2">JexlThreadedArithmetic</A></B></TD>
<TD>A derived arithmetic that allows different threads to operate with
 different strict/lenient/math modes using the same JexlEngine.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/Main.html" title="class in org.apache.commons.jexl2">Main</A></B></TD>
<TD>Test application for JEXL.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/MapContext.html" title="class in org.apache.commons.jexl2">MapContext</A></B></TD>
<TD>Wraps a map in a context.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/ObjectContext.html" title="class in org.apache.commons.jexl2">ObjectContext&lt;T&gt;</A></B></TD>
<TD>Wraps an Object as a Jexl context.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/ReadonlyContext.html" title="class in org.apache.commons.jexl2">ReadonlyContext</A></B></TD>
<TD>A readonly context wrapper.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/UnifiedJEXL.html" title="class in org.apache.commons.jexl2">UnifiedJEXL</A></B></TD>
<TD>An evaluator similar to the Unified EL evaluator used in JSP/JSF based on JEXL.</TD>
</TR>
</TABLE>
&nbsp;

<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Exception Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/JexlException.html" title="class in org.apache.commons.jexl2">JexlException</A></B></TD>
<TD>Wraps any error that might occur during interpretation of a script or expression.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/JexlException.Cancel.html" title="class in org.apache.commons.jexl2">JexlException.Cancel</A></B></TD>
<TD>Thrown to cancel a script execution.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/JexlException.Method.html" title="class in org.apache.commons.jexl2">JexlException.Method</A></B></TD>
<TD>Thrown when a method or ctor is unknown, ambiguous or inaccessible.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/JexlException.Parsing.html" title="class in org.apache.commons.jexl2">JexlException.Parsing</A></B></TD>
<TD>Thrown when parsing fails.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/JexlException.Property.html" title="class in org.apache.commons.jexl2">JexlException.Property</A></B></TD>
<TD>Thrown when a property is unknown.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/JexlException.Return.html" title="class in org.apache.commons.jexl2">JexlException.Return</A></B></TD>
<TD>Thrown to return a value.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/JexlException.Tokenization.html" title="class in org.apache.commons.jexl2">JexlException.Tokenization</A></B></TD>
<TD>Thrown when tokenization fails.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/JexlException.Variable.html" title="class in org.apache.commons.jexl2">JexlException.Variable</A></B></TD>
<TD>Thrown when a variable is unknown.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/apache/commons/jexl2/UnifiedJEXL.Exception.html" title="class in org.apache.commons.jexl2">UnifiedJEXL.Exception</A></B></TD>
<TD>The sole type of (runtime) exception the UnifiedJEXL can throw.</TD>
</TR>
</TABLE>
&nbsp;

<P>
<A NAME="package_description"><!-- --></A><H2>
Package org.apache.commons.jexl2 Description
</H2>

<P>
Provides a framework for evaluating JEXL expressions.
        <br/><br/>
        <ul>
            <li><a href="#intro">Introduction</a></li>
            <li><a href="#example">Brief Example</a></li>
            <li><a href="#usage">Using JEXL</a></li>
            <li><a href="#configuration">Configuring JEXL</a></li>
            <li><a href="#customization">Customizing JEXL</a></li>
        </ul>

        <h2><a name="intro">Introduction</a></h2>
        <p>
            JEXL is a library intended to facilitate the implementation of dynamic and scripting features in applications
            and frameworks.
        </p>

        <h2><a name="example">A Brief Example</a></h2>
        <p>
            When evaluating expressions, JEXL merges an
            <A HREF="../../../../org/apache/commons/jexl2/Expression.html" title="interface in org.apache.commons.jexl2"><CODE>Expression</CODE></A>
            with a
            <A HREF="../../../../org/apache/commons/jexl2/JexlContext.html" title="interface in org.apache.commons.jexl2"><CODE>JexlContext</CODE></A>.
            An Expression is created using
            <A HREF="../../../../org/apache/commons/jexl2/JexlEngine.html#createExpression(java.lang.String)"><CODE>JexlEngine.createExpression(java.lang.String)</CODE></A>,
            passing a String containing valid JEXL syntax.  A simple JexlContext can be created using
            a <A HREF="../../../../org/apache/commons/jexl2/MapContext.html" title="class in org.apache.commons.jexl2"><CODE>MapContext</CODE></A> instance;
            a map of variables that will be internally wrapped can be optionally provided through its constructor.
            The following example, takes a variable named foo, and
            invokes the bar() method on the property innerFoo:
        </p>
        <pre>
            // Create a JexlEngine (could reuse one instead)
            JexlEngine jexl = new JexlEngine();
            // Create an expression object
            String jexlExp = "foo.innerFoo.bar()";
            Expression e = jexl.createExpression( jexlExp );

            // Create a context and add data
            JexlContext jc = new MapContext();
            jc.set("foo", new Foo() );

            // Now evaluate the expression, getting the result
            Object o = e.evaluate(jc);
        </pre>


        <h2><a name="usage">Using JEXL</a></h2>
        The API is composed of three levels addressing different functional needs:
        <ul>
            <li>Dynamic invocation of setters, getters, methods and constructors</li>
            <li>Script expressions known as JEXL expressions</li>
            <li>JSP/JSF like expression known as UnifiedJEXL expressions</li>
        </ul>

        <h3><a name="usage_note">Important note</a></h3>
        The only public packages you should use are:
        <ul>
            <li>org.apache.commons.jexl2</li>
            <li>org.apache.commons.jexl2.introspection</li>
        </ul>
        The following packages follow a "use at your own maintenance cost" policy.
        Their classes and methods are not guaranteed to remain compatible in subsequent versions.
        If you think you need to use some of their features, it might be a good idea to check with
        the community through the mailing list first.
        <ul>
            <li>org.apache.commons.jexl2.parser</li>
            <li>org.apache.commons.jexl2.scripting</li>
            <li>org.apache.commons.jexl2.internal</li>
            <li>org.apache.commons.jexl2.internal.introspection</li>
        </ul>

        <h3><a name="usage_api">Dynamic invocation</a></h3>
        <p>
            These functionalities are close to the core level utilities found in
            <a href="http://commons.apache.org/beanutils/">BeanUtils</a>.
            For basic dynamic property manipulations and method invocation, you can use the following
            set of methods:
        </p>
        <ul>
            <li><A HREF="../../../../org/apache/commons/jexl2/JexlEngine.html#newInstance(java.lang.Class, java.lang.Object...)"><CODE>JexlEngine.newInstance(java.lang.Class<? extends T>, java.lang.Object...)</CODE></A></li>
            <li><A HREF="../../../../org/apache/commons/jexl2/JexlEngine.html#setProperty(java.lang.Object, java.lang.String, java.lang.Object)"><CODE>JexlEngine.setProperty(java.lang.Object, java.lang.String, java.lang.Object)</CODE></A></li>
            <li><A HREF="../../../../org/apache/commons/jexl2/JexlEngine.html#getProperty(java.lang.Object, java.lang.String)"><CODE>JexlEngine.getProperty(java.lang.Object, java.lang.String)</CODE></A></li>
            <li><A HREF="../../../../org/apache/commons/jexl2/JexlEngine.html#invokeMethod(java.lang.Object, java.lang.String, java.lang.Object...)"><CODE>JexlEngine.invokeMethod(java.lang.Object, java.lang.String, java.lang.Object...)</CODE></A></li>
        </ul>
        The following example illustrate their usage:
        <pre>
            // test outer class
            public static class Froboz {
                int value;
                public Froboz(int v) { value = v; }
                public void setValue(int v) { value = v; }
                public int getValue() { return value; }
            }
            // test inner class
            public static class Quux {
                String str;
                Froboz froboz;
                public Quux(String str, int fro) {
                    this.str = str;
                    froboz = new Froboz(fro);
                }
                public Froboz getFroboz() { return froboz; }
                public void setFroboz(Froboz froboz) { this.froboz = froboz; }
                public String getStr() { return str; }
                public void setStr(String str) { this.str = str; }
            }
            // test API
            JexlEngine jexl = nex JexlEngine();
            Quux quux = jexl.newInstance(Quux.class, "xuuq", 100);
            jexl.setProperty(quux, "froboz.value", Integer.valueOf(100));
            Object o = jexl.getProperty(quux, "froboz.value");
            assertEquals("Result is not 100", new Integer(100), o);
            jexl.setProperty(quux, "['froboz'].value", Integer.valueOf(1000));
            o = jexl.getProperty(quux, "['froboz']['value']");
            assertEquals("Result is not 1000", new Integer(1000), o);
        </pre>

        <h3><a name="usage_jexl">JEXL script expression</a></h3>
        <p>
            If your needs require simple expression evaluation capabilities, the core JEXL features
            will most likely fit.
            The main methods are:
        </p>
        <ul>
            <li><A HREF="../../../../org/apache/commons/jexl2/JexlEngine.html#createExpression(org.apache.commons.jexl2.parser.ASTJexlScript, java.lang.String)"><CODE>JexlEngine.createExpression(org.apache.commons.jexl2.parser.ASTJexlScript, java.lang.String)</CODE></A></li>
            <li><A HREF="../../../../org/apache/commons/jexl2/JexlEngine.html#createScript(java.lang.String)"><CODE>JexlEngine.createScript(java.lang.String)</CODE></A></li>
            <li><A HREF="../../../../org/apache/commons/jexl2/Expression.html#evaluate(org.apache.commons.jexl2.JexlContext)"><CODE>Expression.evaluate(org.apache.commons.jexl2.JexlContext)</CODE></A></li>
        </ul>
        The following example illustrates their usage:
        <pre>
            JexlEngine jexl = nex JexlEngine();

            JexlContext jc = new MapContext();
            jc.set("quuxClass", quux.class);

            Expression create = jexl.createExpression("quux = new(quuxClass, 'xuuq', 100)");
            Expression assign = jexl.createExpression("quux.froboz.value = 10");
            Expression check = jexl.createExpression("quux[\"froboz\"].value");
            Quux quux = (Quux) create.evaluate(jc);
            Object o = assign.evaluate(jc);
            assertEquals("Result is not 10", new Integer(10), o);
            o = check.evaluate(jc);
            assertEquals("Result is not 10", new Integer(10), o);
        </pre>

        <h3><a name="usage_ujexl">UnifiedJEXL script expressions</a></h3>
        <p>
            If you are looking for JSP-EL like and basic templating features, you can
            use UnifiedJEXL.
        </p>
        The main methods are:
        <ul>
            <li><A HREF="../../../../org/apache/commons/jexl2/UnifiedJEXL.html#parse(java.lang.String)"><CODE>UnifiedJEXL.parse(java.lang.String)</CODE></A></li>
            <li><A HREF="../../../../org/apache/commons/jexl2/UnifiedJEXL.Expression.html#evaluate(org.apache.commons.jexl2.JexlContext)"><CODE>UnifiedJEXL.Expression.evaluate(org.apache.commons.jexl2.JexlContext)</CODE></A></li>
            <li><A HREF="../../../../org/apache/commons/jexl2/UnifiedJEXL.Expression.html#prepare(org.apache.commons.jexl2.JexlContext)"><CODE>UnifiedJEXL.Expression.prepare(org.apache.commons.jexl2.JexlContext)</CODE></A></li>
        </ul>
        The following example illustrates their usage:
        <pre>
            JexlEngine jexl = new JexlEngine();
            UnifiedJEXL ujexl = new UnifiedJEXL(jexl);
            UnifiedJEXL.Expression expr = ujexl.parse("Hello ${user}");
            String hello = expr.evaluate(context, expr).toString();
        </pre>
        <h3>Expressions Script and UnifiedJEXL.Expression: differences</h3>
        <h4>Expression</h4>
        <p>
        This only allows for a single command to be executed and the result from 
        that is returned. If you try to use multiple commands it ignores 
        everything after the first semi-colon and just returns the result from 
        the first command. 
        </p>
        <h4>Script</h4>
        <p>
        This allows you to put multiple commands in the expression and you can 
        use variable assignments, loops, calculations, etc. The result from the 
        last command is returned from the script.
        </p>
        <h4>UnifiedJEXL.Expression</h4> 
        <p>
        This is ideal to produce text. To get a calculation you use the EL-like syntax 
        as in ${someVariable}. The expression that goes between the brackets 
        behaves like a script, not an expression. You can use semi-colons to 
        execute multiple commands and the result from the last command is 
        returned from the script. You also have the ability to use a 2-pass evaluation using
        the #{someScript} syntax.
        </p>

        <h2><a name="configuration">JEXL Configuration</a></h2>
        <p>
            The JexlEngine can be configured through a few parameters that will drive how it reacts
            in case of errors. These configuration methods are best called at JEXL engine initialization time; it
            is recommended to derive from JexlEngine to call those in a constructor.
        </p>
        <p>
            <A HREF="../../../../org/apache/commons/jexl2/JexlEngine.html#setLenient(boolean)"><CODE>JexlEngine.setLenient(boolean)</CODE></A> configures when JEXL considers 'null' as an error or not in various situations;
            when facing an unreferenceable variable, using null as an argument to an arithmetic operator or failing to call
            a method or constructor. The lenient mode is close to JEXL-1.1 behavior.
        </p>
        <p>
            <A HREF="../../../../org/apache/commons/jexl2/JexlEngine.html#setSilent(boolean)"><CODE>JexlEngine.setSilent(boolean)</CODE></A> configures how JEXL reacts to errors; if silent, the engine will not throw exceptions
            but will warn through loggers and return null in case of errors. Note that when non-silent, JEXL throws
            JexlException which are unchecked exception.
        </p>
        <p>
            <A HREF="../../../../org/apache/commons/jexl2/JexlEngine.html#setDebug(boolean)"><CODE>JexlEngine.setDebug(boolean)</CODE></A> makes stacktraces carried by JExlException more meaningfull; in particular, these
            traces will carry the exact caller location the Expression was created from.
        </p>
        <p>
            <A HREF="../../../../org/apache/commons/jexl2/JexlEngine.html#setClassLoader(java.lang.ClassLoader)"><CODE>JexlEngine.setClassLoader(java.lang.ClassLoader)</CODE></A> indicates to a JexlEngine which class loader to use to solve a class name; this affects
            how JexlEngine.newInstance and the 'new' script method operates. This is mostly usefull in cases where
            you rely on JEXL to dynamically load and call plugins for your application.
        </p>
        <p>
            JexlEngine and UnifiedJEXL expression caches can be configured as well. If you intend to use JEXL
            repeatedly in your application, these are worth configuring since expression parsing is quite heavy.
            Note that all caches created by JEXL are held through SoftReference; under high memory pressure, the GC will be able
            to reclaim those caches and JEXL will rebuild them if needed. By default, a JexlEngine does not create a cache
            whilst UnifiedJEXL does.
        </p>
        <p>Both JexlEngine and UnifiedJEXL are thread-safe; the same instance can be shared between different
            threads and proper synchronization is enforced in critical areas.</p>
        <p><A HREF="../../../../org/apache/commons/jexl2/JexlEngine.html#setCache(int)"><CODE>JexlEngine.setCache(int)</CODE></A> will set how many expressions can be simultaneously cached by the
            JEXL engine. UnifiedJEXL allows to define the cache size through its constructor.</p>
        <p>
            <A HREF="../../../../org/apache/commons/jexl2/JexlEngine.html#setFunctions(java.util.Map)"><CODE>JexlEngine.setFunctions(java.util.Map<java.lang.String, java.lang.Object>)</CODE></A> extends JEXL scripting by registering functions in
            namespaces.
        </p>
        This can be used as in:
        <pre><code>
            public static MyMath {
                public double cos(double x) {
                    return Math.cos(x);
                }
            }
            Map&lt;String, Object> funcs = new HashMap&lt;String, Object>();
            funcs.put("math", new MyMath());
            JexlEngine jexl = new JexlEngine();
            jexl.setFunctions(funcs);

            JexlContext jc = new MapContext();
            jc.set("pi", Math.PI);

            e = JEXL.createExpression("math:cos(pi)");
            o = e.evaluate(jc);
            assertEquals(Double.valueOf(-1),o);
        </code></pre>
        If the <i>namespace</i> is a Class and that class declares a constructor that takes a JexlContext (or
        a class extending JexlContext), one <i>namespace</i> instance is created on first usage in an
        expression; this instance lifetime is limited to the expression evaluation.

        <h2><a name="customization">JEXL Customization</a></h2>
        If you need to make JEXL treat some objects in a specialized manner or tweak how it
        reacts to some settings, you can derive most of its inner-workings.
        <p>
            <A HREF="../../../../org/apache/commons/jexl2/JexlEngine.html" title="class in org.apache.commons.jexl2"><CODE>JexlEngine</CODE></A> is meant to be
            extended and lets you capture your own configuration defaults wrt cache sizes and various flags.
            Implementing your own cache - instead of the basic LinkedHashMap based one - would be
            another possible extension.
        </p>
        <p>
            <A HREF="../../../../org/apache/commons/jexl2/JexlArithmetic.html" title="class in org.apache.commons.jexl2"><CODE>JexlArithmetic</CODE></A>
            is the class to derive if you need to change how operators behave. For example, this would
            be the case if you wanted '+' to operate on arrays; you'd need to derive JexlArithmetic and
            implement your own version of Add.
        </p>
        <p>
            <A HREF="../../../../org/apache/commons/jexl2/Interpreter.html" title="class in org.apache.commons.jexl2"><CODE>Interpreter</CODE></A>
            is the class to derive if you need to add more features to the evaluation
            itself; for instance, you want pre- and post- resolvers for variables or nested scopes for
            for variable contexts or add factory based support to the 'new' operator.
        </p>
        <p>
            <A HREF="../../../../org/apache/commons/jexl2/introspection/UberspectImpl.html" title="class in org.apache.commons.jexl2.introspection"><CODE>UberspectImpl</CODE></A>
            is the class to derive if you need to add introspection or reflection capabilities for some objects.
            The code already reflects public fields as properties on top of Java-beans conventions.
        </p>
<P>

<P>
<DL>
</DL>
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV PACKAGE&nbsp;
&nbsp;<A HREF="../../../../org/apache/commons/jexl2/internal/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/apache/commons/jexl2/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2001-2011 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All Rights Reserved.
</BODY>
</HTML>
